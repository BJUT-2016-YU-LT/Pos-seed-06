# Pos-seed-06
for team 06
 14080006 李佳龙
 14080004 康宇晨
 14080003 秦心远
 14080007 宋凯
 
 
 
 1.	课程的教学目标
本课程设计是结合软件工程、程序设计开发、敏捷实践，软件测试，持续集成等课程的一个综合性设计课程。
通过本次课程，旨在让学生熟悉敏捷迭代开发方式，体会迭代式的需求管理应对变化时的优势。同时加深学生面向对象的程序设计和软件测试的理解。
2.	课程的教学方式
本次设计采用分小组开发，实施敏捷开发过程，通过一个统一的案例需求，利用两周的时间完成该案例的多次迭代，并最终交付产品。
3.	课程设计的模拟案例
完成一个用于商场收银的POS机，整个开发过程会模拟真实项目的需求变化，需求会分为三个阶段逐步给出。
4.	课程安排
1.	第一阶段
内容部分：
该阶段主要介绍敏捷实践，持续集成，迭代，用户故事等，将会通过具体的案例来了解敏捷团队迭代式开发流程并分析敏捷开发方式不同于传统开发方式的特点。
实践部分（需求01 - 02）：
商店里进行购物结算时会使用收银机（POS）系统，这台收银机会在结算时根据	客户的购物车（Cart）中的商品（Item）进行结算和打印购物清单。我们需要实现一个POS机，实现如下功能：
	需求01：
该机器能够将指定格式的数据作为参数输入，然后在控制台中输出结算清单的文本。
示例 :
输入:
 [
    {
        barcode: 'ITEM000000',
        name: '可口可乐',
        unit: '瓶',
        price: 3.00
    },
    {
        barcode: 'ITEM000000',
        name: '可口可乐',
        unit: '瓶',
        price: 3.00
    },
    {
        barcode: 'ITEM000000',
        name: '可口可乐',
        unit: '瓶',
        price: 3.00
    },
    {
        barcode: 'ITEM000000',
        name: '可口可乐',
        unit: '瓶',
        price: 3.00
    },
    {
        barcode: 'ITEM000000',
        name: '可口可乐',
        unit: '瓶',
        price: 3.00
    },
    {
        barcode: 'ITEM000001',
        name: '雪碧',
        unit: '瓶',
        price: 3.00
    },
    {
        barcode: 'ITEM000001',
        name: '雪碧',
        unit: '瓶',
        price: 3.00
    },
    {
        barcode: 'ITEM000004',
        name: '电池',
        unit: '个',
        price: 2.00
    }
]
输出：
***商店购物清单***
名称：可口可乐，数量：5瓶，单价：3.00(元)，小计：15.00(元)
名称：雪碧，数量：2瓶，单价：3.00(元)，小计：6.00(元)
名称：电池，数量：1个，单价：2.00(元)，小计：2.00(元)
----------------------
总计：23.00(元)
**********************

需求02：
超市为了促销即将过季的商品，需要对这些商品进行打折销售。打折商品的折扣信息如下所示：
{
        barcode: 'ITEM000004',
        name: '电池',
        unit: '个',
        price: 2.00，
        discount: 0.8
 }

在生成最终的购物清单时候，对打折的商品需要按照折扣价计算。
示例：
输入：
[
    {
        barcode: 'ITEM000004',
        name: '电池',
        unit: '个',
        price: 2.00，
        discount: 0.8
    }
]    

输出：
***商店购物清单***
名称：电池，数量：1个，单价：2.00(元)，小计：1.6(元)
----------------------
总计：1.60(元)
节省：0.40(元)
**********************

2. 第二阶段
内容部分：
在完成第一阶段需求的成果展示之后，本阶段将着重介绍面向对象程序设计、自动化测试，测试策略等。
实践部分（需求03-04）
需求03：
由于业务发展，商店进行了系统升级，POS机输入文件发生了变化，同时需要商品索引文件和商品列表文件来生成最终的购物清单：
商品索引文件：

{
    'ITEM000000': {
        name: '可口可乐',
        unit: '瓶',
        price: 3.00 
    },
    'ITEM000001': {
        name: '雪碧',
        unit: '瓶',
        price: 3.00
    },
    'ITEM000004': {
        name: '电池',
        unit: '个',
        price: 2.00
        discount: 0.8
    }
}

商品列表文件：

[
    'ITEM000000',
    'ITEM000000',
    'ITEM000000',
    'ITEM000000',
    'ITEM000000',
    'ITEM000001',
    'ITEM000001',
    'ITEM000004'
]

请对现有POS机软件进行升级，要求最终输出的商品清单格式不能发生变化。

需求04：
目前商店正在对部分商品进行“买二赠一”的优惠活动。参加优惠活动的商品标示如下：
{
	'ITEM000000': {
			name: '可口可乐',
			unit: '瓶',
			price: 3.00，
			promotion: true	
		}
}

优惠规则：
•	参加优惠的活动购买件数超过2件（含2件），赠送一件
•	优惠和打折不会同时针对同一款产品.
输入：
商品索引文件：
{
    'ITEM000000': {
        name: '可口可乐',
        unit: '瓶',
        price: 3.00，
        promotion: true
    }
}

商品列表文件：

[
    'ITEM000000',
    'ITEM000000',
    'ITEM000000'
]

输出：
***商店购物清单***
打印时间：2014年08月04日 08:09:05
----------------------
名称：可口可乐，数量：3瓶，单价：3.00(元)，小计：6.00(元)
----------------------
挥泪赠送商品：
名称：可口可乐，数量：1瓶
----------------------
总计：6.00(元)
节省：3.00(元)
**********************
3.第三阶段
	内容部分：
	完成第二阶段的成果展示，本阶段将主要介绍敏捷开发中的需求管理，代码重构，代	码坏味道等。

在迭代二中，我们快速地完成了POS机升级，成功地使用清单文件和商品列表文件生成购物清单。在新的迭代中，POS机需要支持会员功能，会员的基本资料存储在会员清单文件中，文件格式如下：
{
    'USER0001': {
        "name": 'USER 001',
        "isVip": true 
    },
    'USER0002': {
        "name": 'USER 002',
        "isVip": false
    },
    'USER0003': {
        "name": 'USER 003',
        "isVip": true
    }
}


在结算时商品列表文件需要标识客户信息，需要添加用户的客户信息，格式如下：

{
    'user': 'USER001',
    'items': [
        'ITEM000000',
        'ITEM000000',
        'ITEM000000',
        'ITEM000000',
        'ITEM000000',
        'ITEM000001',
        'ITEM000001',
        'ITEM000004'
    ]
}	

2.1 需求05
POS机需要支持会员特价产品，会员特价商品信息记录在商品索引文件中：
商品索引文件：
{
    'ITEM000000': {
        'name': '可口可乐',
        'unit': '瓶',
        'price': 3.00,
        'vipDiscount': 0.90
    },
    'ITEM000001': {
        'name': '雪碧',
        'unit': '瓶',
        'price': 3.00,
        'discount': 0.80,
        'vipDiscount': 0.95
    },
    'ITEM000003': {
        'name': '电池',
        'unit': '个',
        'price': 5.00
    }
	}

	会员特价策略如下：
•	打折物品和会员特价可以叠加
•	会员特价产品不会参加 “买二赠一” 优惠活动
	
请对现有POS机软件进行升级，要求最终输出的商品清单格式不能发生变化。
	示例输入：

{
    'user': 'USER001',
    'items': [
        'ITEM000000',
        'ITEM000001',
        'ITEM000001',
    ]
}   

	示例输出：
	***商店购物清单***
	打印时间：2015年01月04日 08:09:05
	----------------------
	名称：可口可乐，数量：1瓶，单价：3.00(元)，小计：2.70(元)
名称：雪碧，数量：2瓶，单价：3.00(元)，小计：4.56(元)
	----------------------
	总计：7.26(元)
	节省：1.74(元)
	**********************
2.2 需求06
POS机除了要支持会员特价之外，还需要支持会员积分功能，会员积分会在年末参与换购活动，积分制度如下：

积分区间	积分规则
0 <=当前积分<= 200	每5元积1分，不足5元部分不积分
0< 当前积分<= 500	每5元积3分，不足5元部分不积分
500<当前积分	每5元积5分，不足5元部分不积分

	会员购物时，需要在购物清单中显示会员积分（购物后积分）：
	示例输出：
	***商店购物清单***
	会员编号： USER001	会员积分：20分
----------------------
	打印时间：2015年01月04日 08:09:05
	----------------------
	名称：可口可乐，数量：1瓶，单价：3.00(元)，小计：2.70(元)
名称：雪碧，数量：2瓶，单价：3.00(元)，小计：4.56(元)
	----------------------
	总计：7.26(元)
	节省：1.74(元)
	**********************

	非会员购物时，购物清单保持不变。

